<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet"  href="/style.css">
    <script src="https://kit.fontawesome.com/7a727b1df3.js" crossorigin="anonymous"></script>
    <title>Add from excel</title>
</head>
<body>
    <h4 class="nav"><a href="/">Add From Excel</a></h4>

    <h3 class="heading">Add Candidates to Database</h3>
    <div class="container">
        <% if(fileUploaded){ %>
           <div class="msg">
                <% if(uploadError){%>
                    <p class="error"><%= uploadError %></p>
                <%} else{ %>
                    <h4 class="success">Thank You!</h4>
                    <p class="p1"> <span class="tick">&#10004;</span> File successfully uploaded. </p> 
                    <p class="p2"> Your records will be processed shortly.</p>
                <% } %>
           </div>
        <% } else  { %>
            <form class="upload-form" action="/upload" method="POST" enctype="multipart/form-data">
                <label for="fileInput" class="upload-label">
                    <div class="upload-icon">
                        <i class="fa-solid fa-circle-arrow-up fa-xl"></i>
                    </div>    
                    <span  id="fileName" class="upload-text" >Upload a .xlsx or .xls file here</span>
                    <input type="file" class="intputFile" id="fileInput" name="file" accept=".csv, .xlsx" required>
                    <button type="submit">Submit</button>
                </label>
            </form>
        <% } %>
    </div>
    
   <script>
      document.getElementById("fileInput").addEventListener("change", function () {
        // const fileName = this.files[0].name;
        document.querySelector(".upload-text").style.padding = "0";
        const fileName = this.files[0].name;
            document.getElementById("fileName").textContent = `Selected file: ${fileName}`;
            document.querySelector(".upload-label button").style.display = "block";
    });
   </script>
</body>
</html>